(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4847:function(e,t,a){Promise.resolve().then(a.bind(a,5989))},5989:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var r=a(7437),s=a(6881),n=a(7818),o=a(2265),l=a(1648),d=a(4867),i=a(9226),c=a(9354);let f=i.v2;i.ZA,i.h_,i.Tr,i.Ee;let u=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.fC,{ref:t,className:(0,c.cn)("flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm",a),...s})});u.displayName=i.fC.displayName;let m=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.xz,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",a),...s})});m.displayName=i.xz.displayName,o.forwardRef((e,t)=>{let{className:a,inset:s,children:n,...o}=e;return(0,r.jsxs)(i.fF,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",s&&"pl-8",a),...o,children:[n,(0,r.jsx)(d.XCv,{className:"ml-auto h-4 w-4"})]})}).displayName=i.fF.displayName,o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=i.tu.displayName;let p=o.forwardRef((e,t)=>{let{className:a,align:s="start",alignOffset:n=-4,sideOffset:o=8,...l}=e;return(0,r.jsx)(i.h_,{children:(0,r.jsx)(i.VY,{ref:t,align:s,alignOffset:n,sideOffset:o,className:(0,c.cn)("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});p.displayName=i.VY.displayName;let x=o.forwardRef((e,t)=>{let{className:a,inset:s,...n}=e;return(0,r.jsx)(i.ck,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",a),...n})});x.displayName=i.ck.displayName,o.forwardRef((e,t)=>{let{className:a,children:s,checked:n,...o}=e;return(0,r.jsxs)(i.oC,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(i.wU,{children:(0,r.jsx)(d.nQG,{className:"h-4 w-4"})})}),s]})}).displayName=i.oC.displayName,o.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(i.Rk,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(i.wU,{children:(0,r.jsx)(d.jXb,{className:"h-4 w-4 fill-current"})})}),s]})}).displayName=i.Rk.displayName,o.forwardRef((e,t)=>{let{className:a,inset:s,...n}=e;return(0,r.jsx)(i.__,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...n})}).displayName=i.__.displayName,o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=i.Z0.displayName;var h=a(9324);let g=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.fC,{ref:t,className:(0,c.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...s,children:(0,r.jsx)(h.z$,{className:(0,c.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(d.nQG,{className:"h-4 w-4"})})})});g.displayName=h.fC.displayName;var b=a(9733),j=a(402);let v=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,c.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...s})});v.displayName="Textarea";var y=a(1485);let w=y.fC,N=y.xz;y.ee;let C=o.forwardRef((e,t)=>{let{className:a,align:s="center",sideOffset:n=4,...o}=e;return(0,r.jsx)(y.h_,{children:(0,r.jsx)(y.VY,{ref:t,align:s,sideOffset:n,className:(0,c.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});C.displayName=y.VY.displayName;let k=(0,n.default)(()=>Promise.all([a.e(689),a.e(938),a.e(253)]).then(a.bind(a,8253)),{loadableGenerated:{webpack:()=>[8253]},ssr:!1}),S=(0,n.default)(()=>Promise.all([a.e(226),a.e(47),a.e(19)]).then(a.bind(a,5019)),{loadableGenerated:{webpack:()=>[5019]},ssr:!1}),D=(e,t)=>JSON.stringify({params:e,colorsConfig:t}),z=e=>JSON.parse(e);function R(){let[e,t]=(0,o.useState)(null),[a,n]=(0,o.useState)({terrainGradient:l.ob,ambientLight:l.KT,directionalLight:l.VB}),[d,i]=(0,o.useState)({noiseScale:l.dm,canvasSize:l.fQ,threshold:l.Kv,maxDistanceFactor:l.Vp,blurIterations:l.aq}),[c,h]=(0,o.useState)({showStructureFlares:!0}),[y,R]=(0,o.useState)(!1),[_,F]=(0,o.useState)(""),[V,E]=(0,o.useState)(""),[P,O]=(0,o.useState)(!1),[T,G]=(0,o.useState)(!1),K=()=>{navigator.clipboard.writeText(_).then(()=>{O(!0),setTimeout(()=>O(!1),2e3)}).catch(e=>{console.error("Failed to copy: ",e)})},U=(e,t)=>{let a=D(e,t),r=function(e){let t="",a=e.byteLength;for(let r=0;r<a;r++)t+=String.fromCharCode(e[r]);return btoa(t)}(s.ZP.deflate(a));console.log("Serialized Config:",a),console.log("Compressed Config:",r),F(r.toString())};return(0,o.useEffect)(()=>{},[e]),(0,o.useEffect)(()=>{},[a]),(0,o.useEffect)(()=>{},[d]),(0,o.useEffect)(()=>{console.log(c)},[c]),(0,r.jsxs)("div",{className:"flex flex-col w-full  min-h-screen bg-slate-100",children:[(0,r.jsx)("div",{className:"p-4 flex justify-center bg-white border",children:(0,r.jsx)(j._,{className:"text-4xl font-extrabold",children:"Demiurge Studio"})}),(0,r.jsxs)("div",{className:"flex flex-1",children:[(0,r.jsx)("div",{className:"w-1/3 flex flex-col",children:(0,r.jsx)(S,{params:d,onWorldGenerated:t,onColorsChanged:n,onParamsChanged:i,display:!y})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col p-2",children:[(0,r.jsxs)(u,{children:[(0,r.jsxs)(f,{children:[(0,r.jsx)(m,{children:"\uD83D\uDCDC File"}),(0,r.jsxs)(p,{children:[(0,r.jsx)(x,{onSelect:e=>{e.preventDefault()},onPointerMove:e=>{e.preventDefault()},children:(0,r.jsxs)(w,{children:[(0,r.jsx)(N,{asChild:!0,children:(0,r.jsx)("span",{children:"Import"})}),(0,r.jsxs)(C,{side:"right",align:"start",children:[(0,r.jsx)(v,{className:"max-h-24 overflow-y-auto break-all",placeholder:"Paste seed",value:V,onChange:e=>E(e.target.value)}),(0,r.jsxs)(b.z,{className:"w-full",onClick:()=>{let e=s.ZP.inflate(function(e){let t=atob(e),a=t.length,r=new Uint8Array(a);for(let e=0;e<a;e++)r[e]=t.charCodeAt(e);return r}(V),{to:"string"});console.log("Decompressed config:",e);let t=z(e);i(t.params),n(t.colorsConfig),G(!0),setTimeout(()=>G(!1),2e3)},children:[T?"Uploaded!":"Upload"," "]})]})]})}),(0,r.jsx)(x,{onSelect:e=>{e.preventDefault()},onPointerMove:e=>{e.preventDefault()},children:(0,r.jsxs)(w,{children:[(0,r.jsx)(N,{asChild:!0,children:(0,r.jsx)("span",{onClick:()=>U(d,a),children:"Export"})}),(0,r.jsxs)(C,{side:"right",align:"start",children:[(0,r.jsx)(v,{className:"max-h-24 overflow-y-auto break-all self-start",onClick:K,children:_}),(0,r.jsx)(b.z,{className:"w-full",onClick:K,children:P?"Copied!":"Copy"})]})]})})]})]}),(0,r.jsxs)(f,{children:[(0,r.jsx)(m,{children:"\uD83D\uDD8C️ Edit"}),(0,r.jsx)(p,{children:(0,r.jsx)(x,{children:"adsf"})})]}),(0,r.jsxs)(f,{children:[(0,r.jsx)(m,{children:"\uD83D\uDD0D View"}),(0,r.jsx)(p,{children:(0,r.jsxs)(x,{onSelect:e=>{e.preventDefault()},children:[(0,r.jsx)(g,{checked:c.showStructureFlares,id:"show-structure-flares",onClick:()=>{let e={showStructureFlares:!c.showStructureFlares};console.log(e),h(e)}}),(0,r.jsx)(j._,{htmlFor:"show-structure-flares",className:"px-2",children:"Show structure flares"})]})})]})]}),(0,r.jsx)(k,{world:e,colorsConfig:a,displayParams:c,handleFullscreenChange:R})]})]})]})}},9733:function(e,t,a){"use strict";a.d(t,{z:function(){return i}});var r=a(7437),s=a(2265),n=a(1538),o=a(2218),l=a(9354);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),i=s.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:i=!1,...c}=e,f=i?n.g7:"button";return(0,r.jsx)(f,{className:(0,l.cn)(d({variant:s,size:o,className:a})),ref:t,...c})});i.displayName="Button"},402:function(e,t,a){"use strict";a.d(t,{_:function(){return i}});var r=a(7437),s=a(2265),n=a(8364),o=a(2218),l=a(9354);let d=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.f,{ref:t,className:(0,l.cn)(d(),a),...s})});i.displayName=n.f.displayName},1648:function(e,t,a){"use strict";a.d(t,{Br:function(){return r},CC:function(){return h},KT:function(){return l},Kv:function(){return f},VB:function(){return d},Vl:function(){return n},Vp:function(){return u},aq:function(){return m},d$:function(){return p},dm:function(){return i},fQ:function(){return c},ip:function(){return s},lK:function(){return x},ob:function(){return o},wt:function(){return g}});let r=5,s=10,n=10,o=["#0000ff","#aaff00","#00ff00","#ffffff"],l="#ffffff",d="#ffffff",i=.1,c=400,f=.5,u=1,m=1,p=75,x=1.5,h=.1,g=1e3},9354:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(4839),s=a(6164);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}}},function(e){e.O(0,[125,310,604,971,23,744],function(){return e(e.s=4847)}),_N_E=e.O()}]);