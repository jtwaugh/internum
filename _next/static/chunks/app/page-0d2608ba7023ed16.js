(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4847:function(e,t,r){Promise.resolve().then(r.bind(r,5989))},5989:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var a=r(7437),s=r(6881),n=r(7818),o=r(2265),l=r(1648),d=r(4867),i=r(9226),c=r(9354);let u=i.v2;i.ZA,i.h_,i.Tr,i.Ee;let f=o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.fC,{ref:t,className:(0,c.cn)("flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm",r),...s})});f.displayName=i.fC.displayName;let m=o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.xz,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",r),...s})});m.displayName=i.xz.displayName,o.forwardRef((e,t)=>{let{className:r,inset:s,children:n,...o}=e;return(0,a.jsxs)(i.fF,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",s&&"pl-8",r),...o,children:[n,(0,a.jsx)(d.XCv,{className:"ml-auto h-4 w-4"})]})}).displayName=i.fF.displayName,o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})}).displayName=i.tu.displayName;let h=o.forwardRef((e,t)=>{let{className:r,align:s="start",alignOffset:n=-4,sideOffset:o=8,...l}=e;return(0,a.jsx)(i.h_,{children:(0,a.jsx)(i.VY,{ref:t,align:s,alignOffset:n,sideOffset:o,className:(0,c.cn)("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});h.displayName=i.VY.displayName;let p=o.forwardRef((e,t)=>{let{className:r,inset:s,...n}=e;return(0,a.jsx)(i.ck,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",r),...n})});p.displayName=i.ck.displayName,o.forwardRef((e,t)=>{let{className:r,children:s,checked:n,...o}=e;return(0,a.jsxs)(i.oC,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:n,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.wU,{children:(0,a.jsx)(d.nQG,{className:"h-4 w-4"})})}),s]})}).displayName=i.oC.displayName,o.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(i.Rk,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.wU,{children:(0,a.jsx)(d.jXb,{className:"h-4 w-4 fill-current"})})}),s]})}).displayName=i.Rk.displayName,o.forwardRef((e,t)=>{let{className:r,inset:s,...n}=e;return(0,a.jsx)(i.__,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",r),...n})}).displayName=i.__.displayName,o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=i.Z0.displayName;var x=r(9324);let w=o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(x.fC,{ref:t,className:(0,c.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...s,children:(0,a.jsx)(x.z$,{className:(0,c.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(d.nQG,{className:"h-4 w-4"})})})});w.displayName=x.fC.displayName;var b=r(9733),j=r(402);let g=o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,c.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});g.displayName="Textarea";var v=r(1485);let N=v.fC,y=v.xz;v.ee;let C=o.forwardRef((e,t)=>{let{className:r,align:s="center",sideOffset:n=4,...o}=e;return(0,a.jsx)(v.h_,{children:(0,a.jsx)(v.VY,{ref:t,align:s,sideOffset:n,className:(0,c.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...o})})});C.displayName=v.VY.displayName;let S=(0,n.default)(()=>Promise.all([r.e(689),r.e(938),r.e(836)]).then(r.bind(r,6836)),{loadableGenerated:{webpack:()=>[6836]},ssr:!1}),k=(0,n.default)(()=>Promise.all([r.e(226),r.e(47),r.e(942)]).then(r.bind(r,4942)),{loadableGenerated:{webpack:()=>[4942]},ssr:!1}),D=(e,t)=>JSON.stringify({params:e,colorsConfig:t}),F=e=>JSON.parse(e);function _(){let[e,t]=(0,o.useState)(null),[r,n]=(0,o.useState)({terrainGradient:l.ob,ambientLight:l.KT,directionalLight:l.VB,waterColor:l.bp}),[d,i]=(0,o.useState)({noiseScale:l.dm,canvasSize:l.fQ,threshold:l.Kv,waterLevel:l.FD,maxDistanceFactor:l.Vp,blurIterations:l.aq,erosionRate:l.D2,erosionIterations:l.bM}),[c,x]=(0,o.useState)({drawTerrain:!0,drawWater:!0,drawStructures:!0,drawRoads:!0,showStructureFlares:!1,showWaterAccumulation:!1,showFlowDirections:!1,showTrees:!0}),[v,_]=(0,o.useState)(!1),[R,z]=(0,o.useState)(""),[T,V]=(0,o.useState)(""),[E,P]=(0,o.useState)(!1),[W,A]=(0,o.useState)(!1),O=()=>{navigator.clipboard.writeText(R).then(()=>{P(!0),setTimeout(()=>P(!1),2e3)}).catch(e=>{console.error("Failed to copy: ",e)})},G=(e,t)=>{let r=D(e,t);z((function(e){let t="",r=e.byteLength;for(let a=0;a<r;a++)t+=String.fromCharCode(e[a]);return btoa(t)})(s.ZP.deflate(r)).toString())};return(0,o.useEffect)(()=>{},[e]),(0,o.useEffect)(()=>{},[r]),(0,o.useEffect)(()=>{},[d]),(0,o.useEffect)(()=>{},[c]),(0,a.jsxs)("div",{className:"flex flex-col w-full  min-h-screen bg-slate-100",children:[(0,a.jsx)("div",{className:"p-4 flex justify-center bg-white border",children:(0,a.jsx)(j._,{className:"text-4xl font-extrabold",children:"Demiurge Studio"})}),(0,a.jsxs)("div",{className:"flex flex-1",children:[(0,a.jsx)("div",{className:"w-1/3 flex flex-col",children:(0,a.jsx)(k,{params:d,onWorldGenerated:t,onColorsChanged:n,onParamsChanged:i,display:!v})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col p-2",children:[(0,a.jsxs)(f,{children:[(0,a.jsxs)(u,{children:[(0,a.jsx)(m,{children:"\uD83D\uDCDC File"}),(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{onSelect:e=>{e.preventDefault()},onPointerMove:e=>{e.preventDefault()},children:(0,a.jsxs)(N,{children:[(0,a.jsx)(y,{asChild:!0,children:(0,a.jsx)("span",{children:"Import"})}),(0,a.jsxs)(C,{side:"right",align:"start",children:[(0,a.jsx)(g,{className:"max-h-24 overflow-y-auto break-all",placeholder:"Paste seed",value:T,onChange:e=>V(e.target.value)}),(0,a.jsxs)(b.z,{className:"w-full",onClick:()=>{let e=F(s.ZP.inflate(function(e){let t=atob(e),r=t.length,a=new Uint8Array(r);for(let e=0;e<r;e++)a[e]=t.charCodeAt(e);return a}(T),{to:"string"}));i(e.params),n(e.colorsConfig),A(!0),setTimeout(()=>A(!1),2e3)},children:[W?"Uploaded!":"Upload"," "]})]})]})}),(0,a.jsx)(p,{onSelect:e=>{e.preventDefault()},onPointerMove:e=>{e.preventDefault()},children:(0,a.jsxs)(N,{children:[(0,a.jsx)(y,{asChild:!0,children:(0,a.jsx)("span",{onClick:()=>G(d,r),children:"Export"})}),(0,a.jsxs)(C,{side:"right",align:"start",children:[(0,a.jsx)(g,{className:"max-h-24 overflow-y-auto break-all self-start",onClick:O,children:R}),(0,a.jsx)(b.z,{className:"w-full",onClick:O,children:E?"Copied!":"Copy"})]})]})})]})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)(m,{children:"\uD83D\uDD8C️ Edit"}),(0,a.jsx)(h,{children:(0,a.jsx)(p,{children:"adsf"})})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)(m,{children:"\uD83D\uDD0D View"}),(0,a.jsxs)(h,{children:[(0,a.jsxs)(p,{onSelect:e=>{e.preventDefault()},children:[(0,a.jsx)(w,{checked:c.drawTerrain,id:"show-terrain",onClick:()=>{x({...c,drawTerrain:!c.drawTerrain})}}),(0,a.jsx)(j._,{htmlFor:"show-terrain",className:"px-2",children:"Show terrain"})]}),(0,a.jsxs)(p,{onSelect:e=>{e.preventDefault()},children:[(0,a.jsx)(w,{checked:c.drawWater,id:"show-water-level",onClick:()=>{x({...c,drawWater:!c.drawWater})}}),(0,a.jsx)(j._,{htmlFor:"show-water-level",className:"px-2",children:"Show water"})]}),(0,a.jsxs)(p,{onSelect:e=>{e.preventDefault()},children:[(0,a.jsx)(w,{checked:c.drawStructures,id:"show-structures",onClick:()=>{x({...c,drawStructures:!c.drawStructures})}}),(0,a.jsx)(j._,{htmlFor:"show-structures",className:"px-2",children:"Show structures"})]}),(0,a.jsxs)(p,{onSelect:e=>{e.preventDefault()},children:[(0,a.jsx)(w,{checked:c.drawRoads,id:"show-structures",onClick:()=>{x({...c,drawRoads:!c.drawRoads})}}),(0,a.jsx)(j._,{htmlFor:"show-structures",className:"px-2",children:"Show roads"})]}),(0,a.jsxs)(p,{onSelect:e=>{e.preventDefault()},children:[(0,a.jsx)(w,{checked:c.showStructureFlares,id:"show-structure-flares",onClick:()=>{x({...c,showStructureFlares:!c.showStructureFlares})}}),(0,a.jsx)(j._,{htmlFor:"show-structure-flares",className:"px-2",children:"Show structure flares"})]}),(0,a.jsxs)(p,{onSelect:e=>{e.preventDefault()},children:[(0,a.jsx)(w,{checked:c.showWaterAccumulation,id:"show-water-accumulation",onClick:()=>{x({...c,showWaterAccumulation:!c.showWaterAccumulation})}}),(0,a.jsx)(j._,{htmlFor:"show-water-accumulation",className:"px-2",children:"Show water accumulation"})]}),(0,a.jsxs)(p,{onSelect:e=>{e.preventDefault()},children:[(0,a.jsx)(w,{checked:c.showFlowDirections,id:"show-flow-direction",onClick:()=>{x({...c,showFlowDirections:!c.showFlowDirections})}}),(0,a.jsx)(j._,{htmlFor:"show-flow-direction",className:"px-2",children:"Show flow direction"})]}),(0,a.jsxs)(p,{onSelect:e=>{e.preventDefault()},children:[(0,a.jsx)(w,{checked:c.showTrees,id:"show-trees",onClick:()=>{x({...c,showTrees:!c.showTrees})}}),(0,a.jsx)(j._,{htmlFor:"show-trees",className:"px-2",children:"Show trees"})]})]})]})]}),(0,a.jsx)(S,{world:e,colorsConfig:r,displayParams:c,handleFullscreenChange:_})]})]})]})}},9733:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var a=r(7437),s=r(2265),n=r(1538),o=r(2218),l=r(9354);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),i=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:i=!1,...c}=e,u=i?n.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(d({variant:s,size:o,className:r})),ref:t,...c})});i.displayName="Button"},402:function(e,t,r){"use strict";r.d(t,{_:function(){return i}});var a=r(7437),s=r(2265),n=r(8364),o=r(2218),l=r(9354);let d=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,l.cn)(d(),r),...s})});i.displayName=n.f.displayName},1648:function(e,t,r){"use strict";r.d(t,{Br:function(){return a},CC:function(){return g},D2:function(){return x},FD:function(){return m},KT:function(){return l},Kv:function(){return f},VB:function(){return d},Vl:function(){return n},Vp:function(){return h},aq:function(){return p},bM:function(){return w},bp:function(){return i},d$:function(){return b},dm:function(){return c},fQ:function(){return u},ip:function(){return s},lK:function(){return j},nK:function(){return N},ob:function(){return o},wt:function(){return v}});let a=5,s=10,n=10,o=["#cbbd98","#aaff00","#aaff88","#ffffff"],l="#ffffff",d="#ffffff",i="#0099ee",c=.1,u=400,f=.5,m=.2,h=1,p=1,x=.5,w=2,b=75,j=1.5,g=.1,v=1e3,N=[[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0]]},9354:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(4839),s=r(6164);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[125,310,604,971,23,744],function(){return e(e.s=4847)}),_N_E=e.O()}]);