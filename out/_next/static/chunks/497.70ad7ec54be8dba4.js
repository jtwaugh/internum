"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{497:function(e,t,i){i.r(t),i.d(t,{default:function(){return B}});var r,o,n=i(7437),s=i(2265),a=i(7776),l=i(9733),h=i(1648);let c=(e,t)=>{let i=new a.Pa4(0,0,-1),r=new a.iMs;return r.set(e,i),r.intersectObject(t)},d=(e,t,i)=>{let r=e.distanceTo(t),o=new a.fHI(.5,.5,r,32),n=new a.vBJ({color:i}),s=new a.Kj0(o,n),l=new a.Pa4().addVectors(e,t).multiplyScalar(.5);s.position.copy(l);let h=new a.Pa4().subVectors(t,e).normalize(),c=new a.Pa4(0,1,0).cross(h).normalize(),d=Math.acos(new a.Pa4(0,1,0).dot(h));return s.quaternion.setFromAxisAngle(c,d),s},m=(e,t)=>{let i=t.geometry,r=new a.Pa4(e.townSquare.x-i.parameters.width/2,e.heightmap.length-e.townSquare.y-i.parameters.height/2,e.heightmap[e.townSquare.x][e.heightmap.length-e.townSquare.y]*h.Vl),o=null;if(e.docks){let t=new a.Pa4(e.docks.x-i.parameters.width/2,e.heightmap.length-e.docks.y-i.parameters.height/2,e.heightmap[e.docks.x][e.heightmap.length-e.docks.y]*h.Vl),r=new a.Pa4(t.x,t.y,t.z+10);o=d(t,r,65535)}let n=null;if(e.temple){let t=new a.Pa4(e.temple.x-i.parameters.width/2,e.heightmap.length-e.temple.y-i.parameters.height/2,e.heightmap[e.temple.x][e.heightmap.length-e.temple.y]*h.Vl),r=new a.Pa4(t.x,t.y,t.z+10);n=d(t,r,16776960)}let s=new a.Pa4(r.x,r.y,r.z+10);return[d(r,s,16711935),o,n]},u=(e,t,i,r)=>{let o=i.geometry,n=new a.Pa4(e.x-o.parameters.width/2,t.length-e.y-o.parameters.height/2,t[e.x][e.y]*h.Vl),s=new a.Wid({color:16773358,roughness:.5,metalness:.1}),l=new a.fHI(15/r,13/r,2/r,32),c=new a.Kj0(l,s);c.position.set(n.x,n.y,n.z),c.rotation.x=-Math.PI/2;let d=new a.fHI(.5/r,.5/r,10/r,32),m=12/r,u=[];for(let e=0;e<12;e++){let t=e/12*2*Math.PI,i=m*Math.cos(t)+n.x,o=m*Math.sin(t)+n.y,l=new a.Kj0(d,s);l.position.set(i,o,n.z+5/r),l.rotation.x=-Math.PI/2,u=u.concat(l)}return[c,u]},p=(e,t)=>{let i=t.geometry,r=new a.Wid({color:16773358,roughness:.5,metalness:.1}),o=new a.Pa4(e.townSquare.x-i.parameters.width/2,e.heightmap.length-e.townSquare.y-i.parameters.height/2,e.heightmap[e.townSquare.x][e.townSquare.y]*h.Vl),n=new a.DvJ(1.2,1.2,.1),s=new a.Kj0(n,r);return s.position.set(o.x,o.y,o.z),s},w=(e,t,i)=>{let r=i.geometry,o=new a.Wid({color:16773358,roughness:.5,metalness:.1}),n=new a.Pa4(e.x-r.parameters.width/2,t.length-e.y-r.parameters.height/2,t[e.x][e.y]*h.Vl),s=new a.DvJ(1.2,1.2,.1),l=new a.Kj0(s,o);return l.position.set(n.x,n.y,n.z),l},v=(e,t,i)=>{i=Math.min(Math.max(i,0),1);let r=parseInt(e.substring(1),16),o=parseInt(t.substring(1),16),n=r>>16&255,s=r>>8&255,a=255&r,l=Math.round(n+i*((o>>16&255)-n)),h=Math.round(s+i*((o>>8&255)-s)),c=Math.round(a+i*((255&o)-a));return"#".concat((l<<16|h<<8|c).toString(16).padStart(6,"0"))},g=(e,t)=>{let i=e.heightmap.length,r=new a._12(i,i,i-1,i-1),o=[];for(let n=0;n<r.attributes.position.array.length;n+=3){let s;let l=Math.floor(n/3%i),h=Math.floor(n/3/i);r.attributes.position.setZ(n/3,10*e.heightmap[l][h]),s=new a.Ilk(e.heightmap[l][h]<.2?v(t.terrainGradient[0],t.terrainGradient[1],5*e.heightmap[l][h]):e.heightmap[l][h]<.3?v(t.terrainGradient[1],t.terrainGradient[2],e.heightmap[l][h]*(1/.3)):v(t.terrainGradient[2],t.terrainGradient[3],(e.heightmap[l][h]-.3)*(1/.7))),o.push(s.r,s.g,s.b)}r.setAttribute("color",new a.a$l(o,3)),r.computeVertexNormals();let n=new a.Wid({vertexColors:!0,roughness:.8,metalness:0,flatShading:!0});return new a.Kj0(r,n)},y=(e,t,i)=>{let r=new a._12(t,t,t-1,t-1),o=[];for(let t=0;t<r.attributes.position.array.length;t+=3){r.attributes.position.setZ(t/3,10*e);let n=new a.Ilk(i.waterColor);o.push(n.r,n.g,n.b)}r.setAttribute("color",new a.a$l(o,3)),r.computeVertexNormals();let n=new a.YBo({vertexColors:!0,flatShading:!0});return new a.Kj0(r,n)},f=(e,t)=>{let i=e.length,r=new a.Ilk(2237149),o=new a.ZAu,n=0;for(let t=0;t<i;t++)for(let r=0;r<i;r++)null!==e[t][r]&&e[t][r]>n&&(n=e[t][r]);for(let s=0;s<i;s++)for(let l=0;l<i;l++){if(null===e[s][l])continue;let h=e[s][l]/n;if(h<.05)continue;let c=new a.zf8(h,4),d=new a.vBJ({color:r}),m=new a.Kj0(c,d);m.position.set(s-i/2,i-l-i/2,10*t[s][l]+.5),o.add(m)}return o},b=e=>{let t=e.length,i=new a.ZAu;for(let r=0;r<t;r++)for(let o=0;o<t;o++){let n=e[r][o];if(null!==n){let e=h.nK[n],s=new a.Pa4(e[0],-e[1],0).normalize(),l=new a.tGC(s,new a.Pa4(r-t/2,t-o-t/2,12),1,11184895,.2,.2);i.add(l)}}return i},x=(e,t)=>{let i=new a.u9r,r=t.length,o=new Float32Array(3*e.length);e.forEach((e,i)=>{o[3*i]=e.x-r/2,o[3*i+1]=r-e.y-r/2,o[3*i+2]=10*t[e.x][e.y]+.2}),i.setAttribute("position",new a.TlE(o,3));let n=new a.nls({color:16777215,linewidth:2});return new a.x12(i,n)},k=(e,t)=>{let i=new a.ZAu,r=new a.fHI(.02+.05*t,.03+.05*t,1.5,6),o=new a.Wid({color:9127187}),n=new a.Kj0(r,o);n.position.set(e.x,e.y,e.z),n.rotation.x=-Math.PI/2,i.add(n);let s=new a.Wid({color:2263842}),l=[new a.b_z(.25+.25*t,.25+.2*t,5),new a.b_z(.2+.2*t,.25+.2*t,5),new a.b_z(.15+.15*t,.2+.15*t,5)],h=[.6+.4*t,.8+.4*t,1+.4*t];return l.forEach((t,r)=>{let o=new a.Kj0(t,s);o.rotation.x=Math.PI/2,o.position.set(e.x,e.y,e.z+h[r]),i.add(o)}),i},L=(e,t,i,r)=>{let o=t.length,n=[],s=0;for(let t=0;t<o;t++)for(let i=0;i<o;i++)null!==e[t][i]&&e[t][i]>s&&(s=e[t][i]);for(let l=0;l<o;l++)for(let h=0;h<o;h++){if(t[l][h]<i)continue;let o=Math.log(e[l][h]/s*(s-1)+1)/Math.log(s);if(o>.3){let e=Math.random()+l-t.length/2,s=Math.random()+(t.length-h)-t.length/2,d=c(new a.Pa4(e,s,9001),r);if(1!==d.length)continue;let m=d[0].point.z;if(m<10*i)continue;n=n.concat(k(new a.Pa4(e,s,m),o))}}return n},M=e=>{let t=new a.vBJ({color:h.JS,wireframe:!1}),i=new a.Kj0(new a.cJO(1,0),t),r=new a.vBJ({color:h.YS,wireframe:!1}),o=new a.Kj0(new a.cJO(.2,0),r);i.position.set(e.x,e.y,e.z+.6),o.position.set(e.x+.5,e.y,e.z+.7);let n=(e,t,i,r,o)=>{let n=new a.fHI(e,t,i,r),s=new a.vBJ({color:o}),l=new a.Kj0(n,s);return l.rotation.x=Math.PI/2,l},s=n(.1,.1,.75,5,h.YS),l=n(.1,.1,.75,5,h.YS),c=n(.1,.1,.75,5,h.YS),d=n(.1,.1,.75,5,h.YS);s.position.set(e.x-.5,e.y-.5,e.z),l.position.set(e.x+.5,e.y-.5,e.z),c.position.set(e.x-.5,e.y+.5,e.z),d.position.set(e.x+.5,e.y+.5,e.z);let m=new a.ZAu;return[i,o,s,l,c,d].forEach(e=>m.add(e)),m};var E=i(8938);let C=new a.USm(0,0,0,"ZYX"),S=new a.Pa4,P={type:"change"},z={type:"lock"},F={type:"unlock"};class D{connect(){this.domElement.ownerDocument.addEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this._onPointerlockError)}disconnect(){this.domElement.ownerDocument.removeEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this._onPointerlockError)}dispose(){this.disconnect()}moveForward(e){this.isLocked&&(S.setFromMatrixColumn(this.camera.matrix,2),this.camera.position.addScaledVector(S,e))}moveRight(e){this.isLocked&&(S.setFromMatrixColumn(this.camera.matrix,0),this.camera.position.addScaledVector(S,e))}lock(){this.domElement.requestPointerLock()}unlock(){this.domElement.ownerDocument.exitPointerLock()}constructor(e,t=document.body){this.camera=e,this.domElement=t,this.isLocked=!1,this.pointerSpeed=1,this._onMouseMove=j.bind(this),this._onPointerlockChange=A.bind(this),this._onPointerlockError=K.bind(this),this.connect()}}function j(e){if(!this.isLocked)return;let t=e.movementX||e.mozMovementX||e.webkitMovementX||0,i=e.movementY||e.mozMovementY||e.webkitMovementY||0;C.setFromQuaternion(this.camera.quaternion),C.z-=.002*t*this.pointerSpeed,C.x-=.002*i*this.pointerSpeed,this.camera.quaternion.setFromEuler(C),this.camera.dispatchEvent(P)}function A(){this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.isLocked=!0,this.camera.dispatchEvent(z)):(this.isLocked=!1,this.camera.dispatchEvent(F))}function K(){console.error("FPSControls: Unable to use Pointer Lock API")}(r=o||(o={}))[r.FreeFloat=0]="FreeFloat",r[r.Walking=1]="Walking",r[r.FlyHack=2]="FlyHack";let V={terrainMesh:null,waterMesh:null,flares:[],structures:[],roads:[],arrows:null,waterAccumulation:null,treesGroups:[],mobs:[]};class I{handleKeyDown(e){if(this.controls instanceof E.z){switch(e.key){case"w":let t=new a.Pa4(0,1,0);this.controls.target.addScaledVector(t,this.moveSpeed),this.camera.position.addScaledVector(t,this.moveSpeed);break;case"s":let i=new a.Pa4(0,-1,0);this.controls.target.addScaledVector(i,this.moveSpeed),this.camera.position.addScaledVector(i,this.moveSpeed);break;case"a":let r=new a.Pa4(-1,0,0);this.controls.target.addScaledVector(r,this.moveSpeed),this.camera.position.addScaledVector(r,this.moveSpeed);break;case"d":let o=new a.Pa4(1,0,0);this.controls.target.addScaledVector(o,this.moveSpeed),this.camera.position.addScaledVector(o,this.moveSpeed)}this.orbitControls.update()}else if(this.controls instanceof D)switch(e.key){case"w":this.input.moveForward=!0,this.input.moveBackward=!1;break;case"s":this.input.moveBackward=!0,this.input.moveForward=!1;break;case"a":this.input.moveLeft=!0,this.input.moveRight=!1;break;case"d":this.input.moveRight=!0,this.input.moveLeft=!1;break;case" ":this.input.canJump&&(this.velocity.z=2*this.moveSpeed,this.input.canJump=!1);default:this.input.moveForward=!1,this.input.moveBackward=!1,this.input.moveLeft=!1,this.input.moveRight=!1}}handleKeyUp(e){switch(e.key){case"w":this.input.moveForward=!1;break;case"s":this.input.moveBackward=!1;break;case"a":this.input.moveLeft=!1;break;case"d":this.input.moveRight=!1}}addMesh(e){this.scene.add(e)}removeMesh(e){this.scene.remove(e)}removeLayer(e){let t=this.layers[e];console.log("Removing layer ",e),Array.isArray(t)?t.forEach(e=>{e&&this.scene.remove(e)}):(console.log("removing object."),console.log(t),t&&this.scene.remove(t))}setLayer(e,t){if(!(e in this.layers)){console.error('Layer "'.concat(e,'" does not exist in layers'));return}if(this.removeLayer(e),typeof t!=typeof this.layers[e]){console.error("Bad layer assignment!");return}this.layers[e]=t}drawLayer(e){let t=this.layers[e];t&&(Array.isArray(t)?t.forEach(e=>{e&&this.scene.add(e)}):this.scene.add(t))}removeAllLayers(){this.layers=V}emptySceneBuffer(){for(;this.scene.children.length>0;)this.scene.remove(this.scene.children[0])}resetLights(){this.scene.add(this.lighting.ambientLight),this.scene.add(this.lighting.directionalLight)}returnToOverview(){this.cameraMode=o.FreeFloat,this.camera=N(this.camera),this.camera.updateProjectionMatrix(),this.orbitControls.reset(),this.orbitControls.enabled=!0,this.controls=this.orbitControls,this.fpsControls.unlock(),this.camera.position.set(0,0,100),this.orbitControls.target.copy(new a.Pa4(0,0,0)),this.fpsControls.domElement.removeEventListener("click",()=>{this.controls instanceof D&&this.fpsControls.lock()})}moveCameraAbovePosition(e){this.returnToOverview(),this.camera.position.set(e.x,e.y,50),this.orbitControls.target.copy(e),this.orbitControls.update()}turnGravityOn(){this.orbitControls.enabled=!1,this.controls=this.fpsControls,this.fpsControls.domElement.addEventListener("click",()=>{this.controls instanceof D&&this.fpsControls.lock()}),this.cameraMode=o.Walking}turnFlyHackOn(){this.orbitControls.enabled=!1,this.controls=this.fpsControls,this.fpsControls.domElement.addEventListener("click",()=>{this.controls instanceof D&&this.fpsControls.lock()}),this.cameraMode=o.FlyHack}advanceFrame(){let e=this.clock.getDelta();if(this.cameraMode===o.Walking){let t=[];this.layers.terrainMesh&&(t=c(new a.Pa4(this.camera.position.x,this.camera.position.y,999),this.layers.terrainMesh)),t.length>0&&(t[0].point.z>this.camera.position.z+this.velocity.z*e-.5?(this.camera.position.z=t[0].point.z+.5,this.velocity.z<1e-4?this.velocity.z=0:this.camera.position.z+=this.velocity.z*e,.01>Math.abs(this.velocity.x)?this.velocity.x=0:this.velocity.x-=10*this.velocity.x*e,.01>Math.abs(this.velocity.y)?this.velocity.y=0:this.velocity.y-=10*this.velocity.y*e,this.input.moveForward&&(this.velocity.y+=10*e),this.input.moveBackward&&(this.velocity.y-=10*e),this.input.moveLeft&&(this.velocity.x-=10*e),this.input.moveRight&&(this.velocity.x+=10*e),this.input.canJump=!0):(this.camera.position.z+=this.velocity.z*e,this.velocity.z-=this.gravity*e)),this.controls.moveRight(this.velocity.x*e),this.controls.moveForward(-1*this.velocity.y*e)}else this.cameraMode===o.FlyHack?(this.velocity.x-=10*this.velocity.x*e,this.velocity.y-=10*this.velocity.y*e,this.input.moveForward&&(this.velocity.y+=this.moveSpeed*e),this.input.moveBackward&&(this.velocity.y-=this.moveSpeed*e),this.input.moveLeft&&(this.velocity.x-=this.moveSpeed*e),this.input.moveRight&&(this.velocity.x+=this.moveSpeed*e),this.controls.moveRight(this.velocity.x*e),this.controls.moveForward(-1*this.velocity.y*e)):this.cameraMode===o.FreeFloat&&this.controls.update()}setDirectionalLight(e){this.lighting.directionalLight=new a.Ox3(e)}setAmbientLight(e){this.lighting.ambientLight=new a.Mig(e)}constructor(e,t){this.input={moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1,canJump:!1},this.velocity=new a.Pa4(0,0,0),this.gravity=9.81,this.moveSpeed=10,this.layers=V,this.clock=new a.SUY,this.cameraMode=o.FreeFloat,this.camera=new a.cPb,this.orbitControls=new E.z(this.camera,e.domElement),this.orbitControls.enableDamping=!0,this.orbitControls.dampingFactor=.05,this.fpsControls=new D(this.camera,e.domElement),this.fpsControls.domElement.ownerDocument.addEventListener("lock",()=>{}),this.fpsControls.domElement.ownerDocument.addEventListener("unlock",()=>{}),this.controls=this.orbitControls,this.lighting={ambientLight:new a.Mig(t.ambientLight),directionalLight:new a.Ox3(t.directionalLight)},this.lighting.directionalLight.position.set(50,50,50),this.scene=new a.xsS,this.scene.add(this.lighting.ambientLight),this.scene.add(this.lighting.directionalLight)}}let N=e=>(e.fov=h.d$,e.aspect=h.lK,e.near=h.CC,e.far=h.wt,e.position.set(0,0,100),e);class R{handleKeyDown(e){this.env.handleKeyDown(e)}handleKeyUp(e){this.env.handleKeyUp(e)}handleDisplayResize(e,t){this.env.camera.aspect=e/t,this.env.camera.updateProjectionMatrix()}resetScene(e){let t;for(t in this.env.emptySceneBuffer(),this.env.clock=new a.SUY,this.env.returnToOverview(),e)this.toggleLayer(t,e[t]);this.env.resetLights()}constructor(e,t,i){this.drawFunctions={terrainMesh:()=>g(this.world,this.colorsConfig),waterMesh:()=>y(this.world.waterLevel,this.world.heightmap.length,this.colorsConfig),structures:()=>{if(!this.env.layers.terrainMesh)return;let e=this.env.layers.terrainMesh,t=[];if(this.world.temple){let[i,r]=u(this.world.temple,this.world.heightmap,e,12);t=t.concat(i),r.forEach(e=>t=t.concat(e))}if(this.world.docks){let i=w(this.world.docks,this.world.heightmap,e);t=t.concat(i)}let i=p(this.world,e);return t=t.concat(i)},roads:()=>{let e=[];return this.world.templePath&&(e=e.concat(x(this.world.templePath,this.world.heightmap))),this.world.docksPath&&(e=e.concat(x(this.world.docksPath,this.world.heightmap))),e},flares:()=>{if(!this.env.layers.terrainMesh)return;let e=this.env.layers.terrainMesh;return m(this.world,e)},waterAccumulation:()=>f(this.world.waterAccumulation,this.world.heightmap),treesGroups:()=>{if(!this.env.layers.terrainMesh)return;let e=this.env.layers.terrainMesh;return L(this.world.waterAccumulation,this.world.heightmap,this.world.waterLevel,e)},arrows:()=>b(this.world.flowDirections),mobs:()=>[M(new a.Pa4(0,0,10))]},this.toggleLayer=(e,t)=>{console.log(e);let i=this.layerConfig[e];if(console.log(i),t){let e=this.drawFunctions[i]();if(!e)return;this.env.setLayer(i,e),this.env.drawLayer(i)}else this.env.removeLayer(i)},this.world=t,this.colorsConfig=i,this.env=new I(e,this.colorsConfig),this.layerConfig={drawTerrain:"terrainMesh",drawWater:"waterMesh",drawStructures:"structures",drawRoads:"roads",showStructureFlares:"flares",showFlowDirections:"arrows",showWaterAccumulation:"waterAccumulation",showTrees:"treesGroups",showMobs:"mobs"}}}let _=(e,t,i)=>{(0,s.useEffect)(()=>{console.log("Display parameter ".concat(t," changed.")),i(t)},[e])};var B=e=>{let t;let i=(0,s.useRef)(null),r=(0,s.useRef)(null);document.getElementById("fullscreen-btn");let[o,h]=(0,s.useState)("Free Float"),[c,d]=(0,s.useState)(!1),m=(0,s.useRef)(null),u=(0,s.useRef)(null),p=()=>{var e,t,o,n;let s=null===(e=i.current)||void 0===e?void 0:e.clientWidth,a=null===(t=i.current)||void 0===t?void 0:t.clientHeight;null===(o=r.current)||void 0===o||o.setSize(s,a),null===(n=u.current)||void 0===n||n.handleDisplayResize(s,a)};for(t in(0,s.useEffect)(()=>{r.current||(r.current=new a.CP7({antialias:!0})),i.current.appendChild(r.current.domElement),p();let e=e=>{var t;null===(t=u.current)||void 0===t||t.handleKeyDown(e)},t=e=>{var t;null===(t=u.current)||void 0===t||t.handleKeyUp(e)};return window.addEventListener("resize",p),window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{var o;window.removeEventListener("keydown",e),window.removeEventListener("keyup",t),null===(o=i.current)||void 0===o||o.removeChild(r.current.domElement),r.current.dispose()}},[]),e.displayParams)_(e.displayParams[t],t,t=>{var i;null===(i=u.current)||void 0===i||i.toggleLayer(t,e.displayParams[t])});return(0,s.useEffect)(()=>{var t;null===(t=u.current)||void 0===t||t.env.setDirectionalLight(e.colorsConfig.directionalLight)},[e.colorsConfig.directionalLight]),(0,s.useEffect)(()=>{var t;null===(t=u.current)||void 0===t||t.env.setAmbientLight(e.colorsConfig.ambientLight)},[e.colorsConfig.ambientLight]),(0,s.useEffect)(()=>{let t;if(!i.current||!r.current||!e.world)return;u.current=new R(r.current,e.world,e.colorsConfig);let o=u.current;if(!o)return;o.resetScene(e.displayParams);let n=()=>{t=requestAnimationFrame(n),o.env.advanceFrame(),r.current.render(o.env.scene,o.env.camera)};return n(),()=>cancelAnimationFrame(t)},[e.world]),(0,n.jsx)("div",{ref:m,id:"three-container",tabIndex:0,className:"p-4 flex-1",children:(0,n.jsxs)("div",{className:"h-full justify-center",children:[(0,n.jsx)("div",{id:"fullscreen-button-container",className:"relative",children:(0,n.jsx)(l.z,{id:"fullscreen-btn",onClick:()=>{},className:"absolute top-1 right-2 z-10 p-4 bg-black bg-opacity-50 text-white border-none cursor-pointer text-sm hover:bg-opacity-70",children:"『』"})}),(0,n.jsx)("div",{id:"cameramode-label-container",className:"relative",children:(0,n.jsx)("div",{className:"flex p-4 absolute top-1 left-1 z-10",children:(0,n.jsxs)("span",{className:"px-4 py-2 bg-black bg-opacity-50 text-white border-none cursor-pointer text-sm hover:bg-opacity-70",children:["Camera Mode: ",o]})})}),(0,n.jsx)("div",{ref:i,className:"h-full w-full bg-primary"}),(0,n.jsx)("div",{id:"buttons-container",className:"relative",children:(0,n.jsxs)("div",{className:"flex p-4 absolute bottom-1 left-1 z-10",children:[(0,n.jsx)(l.z,{className:"px-4 py-2 bg-black bg-opacity-50 text-white border-none cursor-pointer text-sm hover:bg-opacity-70",onClick:()=>{u.current&&(h("Free Float"),u.current.env.returnToOverview())},children:"\uD83D\uDDFA️"}),(0,n.jsx)(l.z,{className:"px-4 py-2 bg-black bg-opacity-50 text-white border-none cursor-pointer text-sm hover:bg-opacity-70",onClick:()=>{u.current&&(h("Free Float"),u.current.env.moveCameraAbovePosition(new a.Pa4(e.world.townSquare.x-u.current.env.layers.terrainMesh.geometry.parameters.width/2,e.world.heightmap.length-e.world.townSquare.y-u.current.env.layers.terrainMesh.geometry.parameters.height/2,10)))},children:"\uD83C\uDFD8️"}),(0,n.jsx)(l.z,{className:"px-4 py-2 bg-black bg-opacity-50 text-white border-none cursor-pointer text-sm hover:bg-opacity-70",onClick:()=>{u.current&&(h("Gravity On"),u.current.env.turnGravityOn())},children:"\uD83E\uDE82"}),(0,n.jsx)(l.z,{className:"px-4 py-2 bg-black bg-opacity-50 text-white border-none cursor-pointer text-sm hover:bg-opacity-70",onClick:()=>{u.current&&(h("Fly-Hack"),u.current.env.turnFlyHackOn())},children:"\uD83D\uDEE9️"})]})})]})})}}}]);