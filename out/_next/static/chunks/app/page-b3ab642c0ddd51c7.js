(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4847:function(e,t,r){Promise.resolve().then(r.bind(r,5989))},5989:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var a=r(7437),n=r(6881),s=r(7818),o=r(2265),l=r(1648),d=r(4867),i=r(9226),c=r(9354);let u=i.v2;i.ZA,i.h_,i.Tr,i.Ee;let f=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(i.fC,{ref:t,className:(0,c.cn)("flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm",r),...n})});f.displayName=i.fC.displayName;let m=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(i.xz,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",r),...n})});m.displayName=i.xz.displayName,o.forwardRef((e,t)=>{let{className:r,inset:n,children:s,...o}=e;return(0,a.jsxs)(i.fF,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",n&&"pl-8",r),...o,children:[s,(0,a.jsx)(d.XCv,{className:"ml-auto h-4 w-4"})]})}).displayName=i.fF.displayName,o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(i.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})}).displayName=i.tu.displayName;let h=o.forwardRef((e,t)=>{let{className:r,align:n="start",alignOffset:s=-4,sideOffset:o=8,...l}=e;return(0,a.jsx)(i.h_,{children:(0,a.jsx)(i.VY,{ref:t,align:n,alignOffset:s,sideOffset:o,className:(0,c.cn)("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});h.displayName=i.VY.displayName;let p=o.forwardRef((e,t)=>{let{className:r,inset:n,...s}=e;return(0,a.jsx)(i.ck,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",r),...s})});p.displayName=i.ck.displayName,o.forwardRef((e,t)=>{let{className:r,children:n,checked:s,...o}=e;return(0,a.jsxs)(i.oC,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:s,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.wU,{children:(0,a.jsx)(d.nQG,{className:"h-4 w-4"})})}),n]})}).displayName=i.oC.displayName,o.forwardRef((e,t)=>{let{className:r,children:n,...s}=e;return(0,a.jsxs)(i.Rk,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.wU,{children:(0,a.jsx)(d.jXb,{className:"h-4 w-4 fill-current"})})}),n]})}).displayName=i.Rk.displayName,o.forwardRef((e,t)=>{let{className:r,inset:n,...s}=e;return(0,a.jsx)(i.__,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",r),...s})}).displayName=i.__.displayName,o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(i.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",r),...n})}).displayName=i.Z0.displayName;var x=r(9324);let b=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(x.fC,{ref:t,className:(0,c.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...n,children:(0,a.jsx)(x.z$,{className:(0,c.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(d.nQG,{className:"h-4 w-4"})})})});b.displayName=x.fC.displayName;var w=r(9733),g=r(402);let y=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("textarea",{className:(0,c.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});y.displayName="Textarea";var v=r(1485);let j=v.fC,N=v.xz;v.ee;let C=o.forwardRef((e,t)=>{let{className:r,align:n="center",sideOffset:s=4,...o}=e;return(0,a.jsx)(v.h_,{children:(0,a.jsx)(v.VY,{ref:t,align:n,sideOffset:s,className:(0,c.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...o})})});C.displayName=v.VY.displayName;let k=(0,s.default)(()=>Promise.all([r.e(226),r.e(689),r.e(938),r.e(497)]).then(r.bind(r,497)),{loadableGenerated:{webpack:()=>[497]},ssr:!1}),S=(0,s.default)(()=>Promise.all([r.e(226),r.e(47),r.e(353)]).then(r.bind(r,3353)),{loadableGenerated:{webpack:()=>[3353]},ssr:!1}),D=(e,t)=>JSON.stringify({params:e,colorsConfig:t}),R=e=>JSON.parse(e);function z(){let[e,t]=(0,o.useState)(null),[r,s]=(0,o.useState)({terrainGradient:l.ob,ambientLight:l.KT,directionalLight:l.VB,waterColor:l.bp}),[d,i]=(0,o.useState)({noiseScale:l.dm,canvasSize:l.fQ,threshold:l.Kv,waterLevel:l.FD,maxDistanceFactor:l.Vp,blurIterations:l.aq,erosionRate:l.D2,erosionIterations:l.bM}),[c,x]=(0,o.useState)({drawTerrain:!0,drawWater:!0,drawStructures:!0,drawRoads:!0,showStructureFlares:!1,showWaterAccumulation:!1,showFlowDirections:!1,showTrees:!0,showMobs:!0}),[v,z]=(0,o.useState)(!1),[_,F]=(0,o.useState)(""),[T,V]=(0,o.useState)(""),[E,P]=(0,o.useState)(!1),[O,A]=(0,o.useState)(!1),G=()=>{navigator.clipboard.writeText(_).then(()=>{P(!0),setTimeout(()=>P(!1),2e3)}).catch(e=>{console.error("Failed to copy: ",e)})},K=(e,t)=>{let r=D(e,t);F((function(e){let t="",r=e.byteLength;for(let a=0;a<r;a++)t+=String.fromCharCode(e[a]);return btoa(t)})(n.ZP.deflate(r)).toString())};return(0,o.useEffect)(()=>{},[e]),(0,o.useEffect)(()=>{},[r]),(0,o.useEffect)(()=>{},[d]),(0,o.useEffect)(()=>{console.log(c)},[c]),(0,a.jsxs)("div",{className:"flex flex-col w-full  min-h-screen bg-slate-100",children:[(0,a.jsx)("div",{className:"p-4 flex justify-center bg-white border",children:(0,a.jsx)(g._,{className:"text-4xl font-extrabold",children:"Demiurge Studio"})}),(0,a.jsxs)("div",{className:"flex flex-1",children:[(0,a.jsx)("div",{className:"w-1/3 flex flex-col",children:(0,a.jsx)(S,{params:d,onWorldGenerated:t,onColorsChanged:s,onParamsChanged:i,display:!v})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col p-2",children:[(0,a.jsxs)(f,{children:[(0,a.jsxs)(u,{children:[(0,a.jsx)(m,{children:"\uD83D\uDCDC File"}),(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{onSelect:e=>{e.preventDefault()},onPointerMove:e=>{e.preventDefault()},children:(0,a.jsxs)(j,{children:[(0,a.jsx)(N,{asChild:!0,children:(0,a.jsx)("span",{children:"Import"})}),(0,a.jsxs)(C,{side:"right",align:"start",children:[(0,a.jsx)(y,{className:"max-h-24 overflow-y-auto break-all",placeholder:"Paste seed",value:T,onChange:e=>V(e.target.value)}),(0,a.jsxs)(w.z,{className:"w-full",onClick:()=>{let e=R(n.ZP.inflate(function(e){let t=atob(e),r=t.length,a=new Uint8Array(r);for(let e=0;e<r;e++)a[e]=t.charCodeAt(e);return a}(T),{to:"string"}));i(e.params),s(e.colorsConfig),A(!0),setTimeout(()=>A(!1),2e3)},children:[O?"Uploaded!":"Upload"," "]})]})]})}),(0,a.jsx)(p,{onSelect:e=>{e.preventDefault()},onPointerMove:e=>{e.preventDefault()},children:(0,a.jsxs)(j,{children:[(0,a.jsx)(N,{asChild:!0,children:(0,a.jsx)("span",{onClick:()=>K(d,r),children:"Export"})}),(0,a.jsxs)(C,{side:"right",align:"start",children:[(0,a.jsx)(y,{className:"max-h-24 overflow-y-auto break-all self-start",onClick:G,children:_}),(0,a.jsx)(w.z,{className:"w-full",onClick:G,children:E?"Copied!":"Copy"})]})]})})]})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)(m,{children:"\uD83D\uDD8Cï¸ Edit"}),(0,a.jsx)(h,{children:(0,a.jsx)(p,{children:"adsf"})})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)(m,{children:"\uD83D\uDD0D View"}),(0,a.jsx)(h,{children:[{id:"show-terrain",label:"Show terrain",key:"drawTerrain"},{id:"show-water-level",label:"Show water",key:"drawWater"},{id:"show-structures",label:"Show structures",key:"drawStructures"},{id:"show-roads",label:"Show roads",key:"drawRoads"},{id:"show-structure-flares",label:"Show structure flares",key:"showStructureFlares"},{id:"show-water-accumulation",label:"Show water accumulation",key:"showWaterAccumulation"},{id:"show-flow-direction",label:"Show flow direction",key:"showFlowDirections"},{id:"show-trees",label:"Show trees",key:"showTrees"},{id:"show-mobs",label:"Show mobs",key:"showMobs"}].map(e=>{let{id:t,label:r,key:n}=e;return(0,a.jsxs)(p,{onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(b,{checked:c[n],id:t,onClick:()=>{x({...c,[n]:!c[n]})}}),(0,a.jsx)(g._,{htmlFor:t,className:"px-2",children:r})]},t)})})]})]}),(0,a.jsx)(k,{world:e,colorsConfig:r,displayParams:c,handleFullscreenChange:z})]})]})]})}},9733:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var a=r(7437),n=r(2265),s=r(1538),o=r(2218),l=r(9354);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),i=n.forwardRef((e,t)=>{let{className:r,variant:n,size:o,asChild:i=!1,...c}=e,u=i?s.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(d({variant:n,size:o,className:r})),ref:t,...c})});i.displayName="Button"},402:function(e,t,r){"use strict";r.d(t,{_:function(){return i}});var a=r(7437),n=r(2265),s=r(8364),o=r(2218),l=r(9354);let d=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.f,{ref:t,className:(0,l.cn)(d(),r),...n})});i.displayName=s.f.displayName},1648:function(e,t,r){"use strict";r.d(t,{Br:function(){return a},CC:function(){return j},D2:function(){return w},FD:function(){return p},JS:function(){return c},KT:function(){return l},Kv:function(){return h},VB:function(){return d},Vl:function(){return s},Vp:function(){return x},YS:function(){return u},aq:function(){return b},bM:function(){return g},bp:function(){return i},d$:function(){return y},dm:function(){return f},fQ:function(){return m},ip:function(){return n},lK:function(){return v},nK:function(){return C},ob:function(){return o},wt:function(){return N}});let a=5,n=10,s=10,o=["#cbbd98","#aaff00","#aaff88","#ffffff"],l="#ffffff",d="#ffffff",i="#0099ee",c="#aaaaaa",u="#222222",f=.1,m=400,h=.5,p=.2,x=1,b=1,w=.5,g=2,y=75,v=1.5,j=.1,N=1e3,C=[[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0]]},9354:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(4839),n=r(6164);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[125,310,604,971,23,744],function(){return e(e.s=4847)}),_N_E=e.O()}]);