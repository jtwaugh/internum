(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4847:function(e,t,r){Promise.resolve().then(r.bind(r,7761))},7761:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(7437),a=r(6881),o=r(7818),s=r(2265),i=r(1648),l=r(9733),d=r(402),c=r(9354);let f=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("textarea",{className:(0,c.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});f.displayName="Textarea";var u=r(1583);let m=u.fC,h=u.xz;u.ee;let x=s.forwardRef((e,t)=>{let{className:r,align:a="center",sideOffset:o=4,...s}=e;return(0,n.jsx)(u.h_,{children:(0,n.jsx)(u.VY,{ref:t,align:a,sideOffset:o,className:(0,c.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})})});x.displayName=u.VY.displayName;let p=(0,o.default)(()=>Promise.all([r.e(689),r.e(938),r.e(253)]).then(r.bind(r,8253)),{loadableGenerated:{webpack:()=>[8253]},ssr:!1}),g=(0,o.default)(()=>Promise.all([r.e(226),r.e(310),r.e(306),r.e(19)]).then(r.bind(r,5019)),{loadableGenerated:{webpack:()=>[5019]},ssr:!1}),b=(e,t)=>JSON.stringify({params:e,colorsConfig:t}),v=e=>JSON.parse(e);function j(){let[e,t]=(0,s.useState)(null),[r,o]=(0,s.useState)({terrainGradient:i.ob,ambientLight:i.KT,directionalLight:i.VB}),[c,u]=(0,s.useState)({noiseScale:i.dm,canvasSize:i.fQ,threshold:i.Kv,maxDistanceFactor:i.Vp,blurIterations:i.aq}),[j,w]=(0,s.useState)(!1),[y,N]=(0,s.useState)(""),[C,S]=(0,s.useState)(""),[k,z]=(0,s.useState)(!1),[_,V]=(0,s.useState)(!1),E=()=>{navigator.clipboard.writeText(y).then(()=>{z(!0),setTimeout(()=>z(!1),2e3)}).catch(e=>{console.error("Failed to copy: ",e)})},P=(e,t)=>{let r=b(e,t),n=function(e){let t="",r=e.byteLength;for(let n=0;n<r;n++)t+=String.fromCharCode(e[n]);return btoa(t)}(a.ZP.deflate(r));console.log("Serialized Config:",r),console.log("Compressed Config:",n),N(n.toString())};return(0,s.useEffect)(()=>{},[e]),(0,s.useEffect)(()=>{},[r]),(0,s.useEffect)(()=>{console.log(c)},[c]),(0,n.jsxs)("div",{className:"flex flex-col w-full  min-h-screen bg-slate-100",children:[(0,n.jsx)("div",{className:"p-4 flex justify-center bg-primary border",children:(0,n.jsx)(d._,{className:"text-4xl font-extrabold text-white",children:"Demiurge Studio"})}),(0,n.jsxs)("div",{className:"flex flex-1",children:[(0,n.jsx)("div",{className:"w-1/3 flex flex-col",children:(0,n.jsx)(g,{params:c,onWorldGenerated:t,onColorsChanged:o,onParamsChanged:u,display:!j})}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,n.jsx)("div",{id:"buttons-container",className:"relative",children:(0,n.jsxs)("div",{className:"flex p-4",children:[(0,n.jsx)("div",{className:"flex w-1/2 justify-start",children:(0,n.jsxs)(m,{children:[(0,n.jsx)(h,{asChild:!0,children:(0,n.jsx)(l.z,{children:"Import"})}),(0,n.jsxs)(x,{children:[(0,n.jsx)(f,{className:"max-h-24 overflow-y-auto break-all",placeholder:"Paste seed",value:C,onChange:e=>S(e.target.value)}),(0,n.jsxs)(l.z,{className:"w-full",onClick:()=>{let e=a.ZP.inflate(function(e){let t=atob(e),r=t.length,n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=t.charCodeAt(e);return n}(C),{to:"string"});console.log("Decompressed config:",e);let t=v(e);u(t.params),o(t.colorsConfig),V(!0),setTimeout(()=>V(!1),2e3)},children:[_?"Uploaded!":"Upload"," "]})]})]})}),(0,n.jsx)("div",{className:"flex w-1/2 justify-end",children:(0,n.jsxs)(m,{children:[(0,n.jsx)(h,{asChild:!0,children:(0,n.jsx)(l.z,{onClick:()=>P(c,r),children:"Export"})}),(0,n.jsxs)(x,{children:[(0,n.jsx)(f,{className:"max-h-24 overflow-y-auto break-all self-start",onClick:E,children:y}),(0,n.jsx)(l.z,{className:"w-full",onClick:E,children:k?"Copied!":"Copy"})]})]})})]})}),(0,n.jsx)(p,{world:e,colorsConfig:r,handleFullscreenChange:w})]})]})]})}},9733:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var n=r(7437),a=r(2265),o=r(1538),s=r(2218),i=r(9354);let l=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:s,asChild:d=!1,...c}=e,f=d?o.g7:"button";return(0,n.jsx)(f,{className:(0,i.cn)(l({variant:a,size:s,className:r})),ref:t,...c})});d.displayName="Button"},402:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var n=r(7437),a=r(2265),o=r(8364),s=r(2218),i=r(9354);let l=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(o.f,{ref:t,className:(0,i.cn)(l(),r),...a})});d.displayName=o.f.displayName},1648:function(e,t,r){"use strict";r.d(t,{Br:function(){return n},KT:function(){return i},Kv:function(){return f},VB:function(){return l},Vl:function(){return o},Vp:function(){return u},aq:function(){return m},dm:function(){return d},fQ:function(){return c},ip:function(){return a},ob:function(){return s}});let n=5,a=10,o=10,s=["#0000ff","#aaff00","#00ff00","#ffffff"],i="#ffffff",l="#ffffff",d=.1,c=400,f=.5,u=1,m=1},9354:function(e,t,r){"use strict";r.d(t,{cn:function(){return o}});var n=r(4839),a=r(6164);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}}},function(e){e.O(0,[125,679,971,23,744],function(){return e(e.s=4847)}),_N_E=e.O()}]);